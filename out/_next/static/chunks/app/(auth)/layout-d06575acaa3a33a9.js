(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{1109:(e,t,r)=>{"use strict";function s(e){let t=(e||"").toLowerCase();return"admin"===t||"manager"===t||"user"===t||"guest"===t?t:"guest"}function u(e,t){return"public"===t||t.includes(e)}r.d(t,{G:()=>s,z:()=>u})},23750:(e,t,r)=>{"use strict";r.d(t,{To:()=>s,qv:()=>u,tT:()=>n});let s=[],u={"/login":"public","/forbidden":"public","/401":"public","/403":"public"},n={"/settings":["admin","manager","user"],"/admin":["admin"]}},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},44380:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var s=r(23750);let u=(()=>{let e={...s.qv};for(let t of s.To)for(let r of t.items)e[r.url]=r.roles;for(let[t,r]of Object.entries(s.tT))e[t]=r;return e})();function n(e){if(u[e])return u[e];let t=e.split("?")[0].split("#")[0].split("/").filter(Boolean);if(0===t.length)return u["/"];let r="";for(let e=0;e<t.length;e++)if(u[r+="/"+t[e]])return u[r]}},47156:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(95155),u=r(65103);function n(e){let{children:t}=e;return(0,u.N)(),(0,s.jsx)("div",{className:"flex min-h-screen w-full",children:(0,s.jsx)("main",{className:"flex-1",children:t})})}},65103:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(12115),u=r(35695),n=r(81775),l=r(1109),i=r(44380);function a(){let e=(0,u.useRouter)(),t=(0,u.usePathname)(),{role:r,isLoaded:a,hydrateFromServer:c}=(0,n.n)();(0,s.useEffect)(()=>{a||c()},[a,c]),(0,s.useEffect)(()=>{let s=(0,i.q)(t);s&&"public"!==s&&a&&!(0,l.z)(r,s)&&e.replace("/forbidden")},[t,r,a,e])}},65453:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var s=r(12115);let u=e=>{let t;let r=new Set,s=(e,s)=>{let u="function"==typeof e?e(t):e;if(!Object.is(u,t)){let e=t;t=(null!=s?s:"object"!=typeof u||null===u)?u:Object.assign({},t,u),r.forEach(r=>r(t,e))}},u=()=>t,n={setState:s,getState:u,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(s,u,n);return n},n=e=>e?u(e):u,l=e=>e,i=e=>{let t=n(e),r=e=>(function(e,t=l){let r=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},a=e=>e?i(e):i},81775:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});let s=(0,r(65453).v)(e=>({role:"guest",isLoaded:!1,setRole:t=>e({role:t}),hydrateFromServer:async()=>{e({role:"guest",isLoaded:!0})}}))},96325:(e,t,r)=>{Promise.resolve().then(r.bind(r,47156))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(96325)),_N_E=e.O()}]);