"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{30508:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n(95155),a=n(12115),l=n(97168);let r=e=>{let{setVisibleDialog:t,onSave:n,onCancel:r}=e,c=(0,a.useRef)(null),[u,d]=(0,a.useState)({components:[]});(0,a.useEffect)(()=>{let e=e=>{e.data&&"FORM_BUILDER_CHANGE"===e.data.type&&d(e.data.data)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,a.useEffect)(()=>{c.current&&c.current.contentWindow&&c.current.contentWindow.postMessage({type:"SET_FORM_DATA",data:u},"*")},[u]);let o=()=>{t(!1),d({components:[]})};return(0,s.jsxs)("div",{className:"flex-[1_1_auto] flex flex-col gap-2 w-full bg-white",children:[(0,s.jsx)("iframe",{ref:c,src:"/form-builder.html",className:"flex-[1_1_auto] w-full",onLoad:()=>{c.current&&c.current.contentWindow&&c.current.contentWindow.postMessage({type:"SET_FORM_DATA",data:u},"*")},title:"Form Builder"}),(0,s.jsxs)("div",{className:"p-2 flex gap-4 justify-end px-4",children:[(0,s.jsx)(l.$,{variant:"destructive",onClick:()=>{null==r||r(),o()},children:"Cancel"}),(0,s.jsx)(l.$,{onClick:()=>{null==n||n(u),o()},children:"Save form"})]})]})}}}]);